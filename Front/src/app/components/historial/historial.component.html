<div class="row justify-content-center " id="botonera">
	<div class="py-5 text-center">
		<h2>Historial Pacientes</h2>
	</div>
	<div class="col-md-2 d-flex">
		<div class="card" style="width: 18rem;">
			<img src="assets/img/nuevo-historial.jpg" width="100%" height="225">
			<div class="card-body">
			<h5 class="card-title">Nuevo Historial</h5>
			<p class="card-text">Aqui puedes añadir un nuevo historial de paciente.</p>
			<a class="btn btn-primary" id="add_historial">Crear historial</a>
			</div>
		</div>
	</div>
	<div class="col-md-2 d-flex">
		<div class="card" style="width: 18rem;">
			<img src="assets/img/busqueda.png" width="100%" height="225">
			<div class="card-body">
			<h5 class="card-title">Ver historial de pacientes</h5>
			<p class="card-text">Aqui puedes ver el historial de tus pacientes.</p>
			<a class="btn btn-primary" [routerLink]="['/ver-historial', doctor.id]">Ver historial</a>
			</div>
		</div>
	</div>
</div>

<div id="nuevo_historial">
	<div class="container" id="containerRegDoc">
		<div class="py-5 text-center">
		<h2>Nuevo Historial</h2>
		<p class="lead">Ingresa los datos que se solicitan a continuación para crear un nuevo historial de paciente.</p>
		</div>
	  
		<div class="row g-5">
			<div class=" ">
				<h4 class="mb-3">Datos personales del paciente</h4>
				<hr class="my-4">
				<form [formGroup]="form"  (ngSubmit)="onSubmitReg()">
				
					<div class="row g-3">
						<div class="col-sm-6 form-group">
							<label for="name" class="form-label">Nombre</label>
							<input type="text" formControlName="name" class="form-control" placeholder="Nombre" [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
							<div *ngIf="submitted && f.name.errors" class="invalid-feedback">
								<div *ngIf="f.name.errors.required">El nombre es obligatorio.</div>
							</div>
						</div>
					
						<div class="col-sm-6 form-group">
							<label for="surname" class="form-label">Apellidos</label>
							<input type="text" formControlName="surname" class="form-control"  placeholder="Apellidos" [ngClass]="{ 'is-invalid': submitted && f.surname.errors }" />
							<div *ngIf="submitted && f.surname.errors" class="invalid-feedback">
								<div *ngIf="f.surname.errors.required">Los apellidos son obligatorios.</div>
							</div>
						</div>
						
						<div class="col-sm-6 form-group">
							<label for="dni_paciente" class="form-label">DNI</label>
							<input type="text" formControlName="dni_paciente" class="form-control"  placeholder="11111111Z" [ngClass]="{ 'is-invalid': submitted && f.dni_paciente.errors }" />
							<div *ngIf="submitted && f.dni_paciente.errors" class="invalid-feedback">
								<div *ngIf="f.dni_paciente.errors.required">El dni es obligatorio</div>
								<div *ngIf="f.dni_paciente.errors.pattern">El dni es incorrecto</div>
							</div>
						</div>

						<div class="col-sm-6 form-group">
							<label for="edad_paciente" class="form-label">Edad</label>
							<input type="text" maxlength = "2" formControlName="edad_paciente" class="form-control" placeholder="25" [ngClass]="{ 'is-invalid': submitted && f.edad_paciente.errors }"/>
							<div *ngIf="submitted && f.edad_paciente.errors" class="invalid-feedback">
								<div *ngIf="f.edad_paciente.errors.required">La edad es obligatoria</div>
							</div>
						</div>

						<div class="col-12 form-group">
							<label for="fecha_nacimiento_paciente" class="form-label">Fecha de Nacimiento</label>
							<input type="date" formControlName="fecha_nacimiento_paciente" class="form-control"  min="01-01-1940" max="01-01-2003" [ngClass]="{ 'is-invalid': submitted && f.fecha_nacimiento_paciente.errors }"/>
							<div *ngIf="submitted && f.fecha_nacimiento_paciente.errors" class="invalid-feedback">
								<div *ngIf="f.fecha_nacimiento_paciente.errors.required">La fecha de nacimiento es obligatoria</div>
							</div>
						</div>

					</div>
					<h4 class="mb-2" style="margin-top: 3%;">Datos sanitarios del paciente</h4>
				<hr class="my-4">
				<div class="row g-3">
	
					<div class="col-6 form-group">
						<label for="patologias_paciente" class="form-label">Patologías</label>
						<input type="text" formControlName="patologias_paciente" class="form-control"  placeholder="" [ngClass]="{ 'is-invalid': submitted && f.patologias_paciente.errors }"/>
					</div>
	
					<div class="col-6 form-group">
						<label for="alergias_paciente" class="form-label">Alergias</label>
						<input type="text" formControlName="alergias_paciente" class="form-control" placeholder="" [ngClass]="{ 'is-invalid': submitted && f.alergias_paciente.errors }"/>
					</div>
				
					<div class="col-12 form-group">
						<label for="vacunas_paciente" class="form-label">Vacunas</label>
						<input type="text" formControlName="vacunas_paciente" class="form-control" placeholder="" [ngClass]="{ 'is-invalid': submitted && f.vacunas_paciente.errors }"/>
					</div>
					
					<div class="col-12 form-group">
						<label for="tratamientos" class="form-label">Tratamientos</label>
						<input type="text" formControlName="tratamientos" class="form-control" placeholder="" [ngClass]="{ 'is-invalid': submitted && f.tratamientos.errors }"/>
					</div>
				</div>

				<hr class="my-4">
				
				<div class="form-group">
					<button class="w-100 btn btn-primary btn-lg" type="submit">
					  Enviar
					</button>
				</div>
				</form>
			</div>
		</div>
	
	  </div>
</div>
